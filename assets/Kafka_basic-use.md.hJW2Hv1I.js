import{_ as a,c as i,o as e,ae as t}from"./chunks/framework.Dgg8-8ov.js";const c=JSON.parse('{"title":"基本使用","description":"","frontmatter":{},"headers":[],"relativePath":"Kafka/basic-use.md","filePath":"Kafka/basic-use.md"}'),n={name:"Kafka/basic-use.md"};function l(p,s,h,k,r,d){return e(),i("div",null,s[0]||(s[0]=[t(`<h1 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to &quot;基本使用&quot;">​</a></h1><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><ol><li>前往 <a href="https://kafka.apache.org/downloads" target="_blank" rel="noreferrer">Kafka</a> 官网下载，这里演示的时候使用的是 3.9.1 版本</li><li>解压</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xzf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kafka_2.13-3.9.1.tgz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kafka_2.13-3.9.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kafka</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kafka</span></span></code></pre></div><ol start="3"><li>使用 KRaft 启动 Kafka（可以看完 4 再做这一步）</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 第一步</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KAFKA_CLUSTER_ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bin/kafka-storage.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> random-uuid)&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 第二步</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bin/kafka-storage.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --standalone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $KAFKA_CLUSTER_ID </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config/kraft/reconfig-server.properties</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 第三步</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bin/kafka-server-start.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config/kraft/reconfig-server.properties</span></span></code></pre></div><ol start="4"><li>修改默认的配置文件</li></ol><p>为了能够成功使用 Kafdrop 可视化 WebUI 便于我们观察 Kafka，需要对默认的<code>config/kraft/reconfig-server.properties</code>做一些修改</p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ip修改为虚拟机ip</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">listeners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=PLAINTEXT://192.168.10.110:9092,CONTROLLER://192.168.10.110:9093</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">advertised.listeners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=PLAINTEXT://192.168.10.110:9092,CONTROLLER://192.168.10.110:9093</span></span></code></pre></div><ol start="5"><li>使用 WebUI（要求 4 和 3 都完成了） 前往官网下载<a href="https://github.com/obsidiandynamics/kafdrop/releases" target="_blank" rel="noreferrer">Kafdrop</a> 使用如下命令启动</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add-opens=java.base/sun.nio.ch=ALL-UNNAMED</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kafdrop-4.1.0.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --kafka.brokerConnect=192.168.10.110:9092</span></span></code></pre></div><p>启动完之后访问 <a href="http://localhost:9000" target="_blank" rel="noreferrer">localhost:9000</a> 即可</p>`,12)]))}const g=a(n,[["render",l]]);export{c as __pageData,g as default};
